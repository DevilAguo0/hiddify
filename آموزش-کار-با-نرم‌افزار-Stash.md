[**![Lang_English](https://user-images.githubusercontent.com/125398461/229074810-599bd7f9-0bc1-44a9-b76e-90bf7e182314.png) English**](https://github.com/hiddify/hiddify-config/wiki/Tutorial-for-Stash-app)

<div dir=rtl>

# آموزش کار با نرم‌افزار Stash
این برنامه بر پایه کلش برای iOS نوشته شده و برای استفاده از آن باید خریداری شود.

## اضافه کردن پروفایل به برنامه
* برای این کار در پنل کاربری خود وارد تب iOS شوید و بخش مربوط به Stash را باز کنید.
* در اینجا نیاز است با مفهومی به اسم پروفایل آشنا شوید. پروفایل یک فایل yml شامل تمامی کانکشن‌هاست که در این بخش قابل دسترسی است. دو نوع پروفایل وجود دارد
* پروفایل سبز رنگ یا lite برای سایت‌های فیلتر شده که در این حالت فقط سایت‌های فیلترشده از فیلترشکن عبور داده می‌شوند و سایر سایت‌ها از جمله سایت‌های ایرانی بدون فیلترشکن باز می‌شوند که حالت بهتری است. بنابراین برای باز کردن این سایت‌ها نیاز به خاموش کردن VPN ندارید.
* حالت دوم پروفایل نارنجی یا normal است که همه ترافیک را از فیلترشکن به سمت سرور می‌فرستد که اگر در سرور سایت‌های ایرانی بلاک شده باشند، باز نمی‌شوند یا اگر وارپ برای همه ترافیک فعال شده باشد،‌سایت‌های ایرانی با وارپ باز می‌شوند.
* در نهایت یکی از دو پرفایل را انتخاب کنید.

### کپی کردن پروفایل در برنامه Stash
* پروفایل مورد نظر خود را از صفحه کاربری کپی کنید.
* وارد برنامه Stash شوید، در صفحه `Settings` قسمت `Config File` را انتخاب کنید.
* گزینه `Download from URL` را انتخاب کنید.
* لینک کپی شده را وارد کنید و `Download` را بزنید. با انجام این کار پروفایل مورد نظر به برنامه اضافه می‌شود.

### اضافه کردن پروفایل با QR code
* روی پروفایل مورد نظر خود را از صفحه کاربری بزنید تا QR code ظاهر شود.
* وارد برنامه Stash شوید، در صفحه `Settings` قسمت `Config File` را انتخاب کنید.
* گزینه `Download from QRcode` را انتخاب کنید.
* QR code مورد نظر را اسکن کنید تا پروفایل به برنامه اضافه گردد.

## منوی‌Policy
در این منو پالیسی‌ها یا همان کانفیگ‌های موود در پروفایل‌های ایمپورت شده به برنامه بازگذاری می‌شوند و نمایش داده می‌شومد.

### حالت Proxy
در این حالت از یک پروکسی خاص استفاده می‌شود که می‌توان پروکسی مورد نظر خود را انتخاب نمایید.

### حالت automatic
در این حالت نرم‌افزار به صورت خودکار به بهترین کانفیگ تست شده متصل می‌گردد.

### حالت Sequential 
در این حالت نرم‌افزار به صورت ترتیبی از بین کانفیگ‌های مختلف انتخاب می‌کند. یعنی به صورت دوره‌ای یکی از کانفیگ‌ها را متصل می :ند. این حالت باعث پخش بار غیر همزمان می‌شود ولی با حالت لودبالانس که به صورت همزمان از کانفیگ‌ها استفاده می‌کند متفاوت است.

### حالت auto
مربو به حالت انتخاب خودکار کانفیگ برای `automatic` است.

### حالت Load-Balance
در این حالت امکان استفاده از چند کانکشن به صورت همزمان وجود دارد که باعث پخش بار روی چندین کانکشن می‌شود و برای زمان هایی که آیپی کثیف شده و کانکشن‌های تکی خوب عمل نمی‌کنند می‌تواند مفید باشد.

### تست کانکشن‌ها
برای این کار روی آیکون رعد و برق کلیک کنید تا تست کانکشن انجام شود.

## آپدیت کردن پروفایل‌های ایمپورت شده
برای این کار منوی `Settings` وارد `Config File‌` شوید و انگشت خود را روی یکی از پروفایل‌ها نگه دارید. در منوی ظاهر شده، گزینه Update Now را بزنید.

## آپدیت خودکار پروفایل‌های ایمپورت شده
* برای این کار در Settings گزینه More Settings را انتخاب نمایید.
* در قسمت `CONFIG FILE` فیلد `Update Interval` می‌توانید مدت زمان بین آپدیت‌های خودکار را مشخص کنید.
* با فعال‌سازی Auto Update این قابلیت فعال می‌گردد.
* همچنین هر بار که برنامه Stash را باز می‌کنید پروفایل‌ها آپدیت می‌شوند.

## انتخاب حالت در بخش Outbound
در صفحه `Home` برنامه و در بخش `Outbound` می‌توانید سه حالت را انتخاب کنید.

### Rule mode
که پالیسی‌ها را بر اساس رول‌های موجود در پروفایل استفاده می‌کند یعنی اگر مثلا پروفایل Lite در حال استفاده باشد، با استفاده از این حالت ترافیک سایت‌های ایرانی به صورت خودکار از فیلترشکن عبور نمی‌کند.

### Global mode
حالتی است که رول‌ها دیگر اجرا نمی‌شود و می توانید در منوی Policy روی حالت Proxy یکی از کانفیگ‌ها را انتخاب کنید تا همه ترافیک گوشی شما از آن کانفیگ عبور کند. این حالت برای زمانی‌ مفید است که می‌خواهید یک کانفیگ خاص را استفاده کنید.

### Direct mode
در این حالت ترافیک از فیلترشکن عبور داده نمی‌شود مثل این است که فیلترشکن را خاموش کرده باشید.

## استفاده از قابلیت On Demand
برای استفاده در `Settings` وارد `On Demand` شوید.

### Always On
اگر این گزینه را فعال نمایید، همیشه فیلترشکن شما فعال خواهد بود.

### On Demand
اگر این گزینه را فعال کنید، فیلترشکن تنها زمانی که صفحه گوشی قفل نشده است فعال خواهد بود و در سایر مواقع خاموش می‌شود.

## عیب‌یابی کانکشن‌ها
در صورت نیاز به چک کردن جزییات بیشتر از اتصالات می‌توانید در منوی `Utilities` وارد بخش `Network Diagnosis` شوید. در اینا لاگ مربو به تمامی کانکشن‌ها نمایش داده می‌شود که می‌تواند برای عیب‌یابی مفید باشد. این بخش شامل چندین زیربخش است که از جمله `Connectivity` و `Proxy` مفید هستند.