<div dir="rtl">

# راهنمای استفاده از حالت auto_cdn_ip در هیدیفای

همانطور که می دانید یکی از دغدغه های همیشگی کاربران هنگام استفاده از cdn کلادفلر؛ پیدا کردن روزمره آیپی های تمیز است. ما قبلا آموزش هایی در این خصوص ارائه کرده بودیم که راهنمای گام به گام یافتن این آیپی ها بود. می توانید از این لینک آن را مشاهده کنید.
خیلی وقت ها به دلایل متعدد امکان پیدا کردن این آیپی ها فراهم نیست. ما برای رفع این مشکل نیز راهکاری ارائه دادیم.

قابلیت auto_cdn_ip برای این درست شده تا این مشکل را برای شما حل کنه. در ادامه توضیحات را با دقت مطالعه کنید تا با نحوه تنظیم این قابلیت آشنا بشید.

## ثبت دامنه در حالت auto_cdn_ip

برای این کار به منوی دامنه بروید و دکمه ایجاد را بزنید. صفحه زیر برای شما باز می شود.


![auto_cdn-ip](https://user-images.githubusercontent.com/125398461/228467960-a69e6042-082b-49cb-b89c-512cb08f9fdd.png)

در ادامه هر کدام از قسمت ها مطابق با شماره توضیح داده خواهند شد.

### ۱. دامنه
در اینجا شما ساب دامنه ثبت شده خود در کلادفلر را وارد کنید. لازم به توضیح است که حتما باید پروکسی روشن باشد.
اگر برای ثبت دامنه نیاز به اطلاعات بیشتر دارید [این لینک](https://github.com/hiddify/hiddify-config/wiki/%D8%B1%D8%A7%D9%87%D9%86%D9%85%D8%A7%DB%8C-%D8%AA%D9%86%D8%B8%DB%8C%D9%85-%D8%AF%D8%A7%D9%85%D9%86%D9%87-%D9%88-%D9%86%D9%87%D8%A7%DB%8C%DB%8C-%DA%A9%D8%B1%D8%AF%D9%86-%D9%86%D8%B5%D8%A8) را ببینید.

### ۲. نام نمایشی
با استفاده از این فیلد شما می توانید یک نام دلخواه را برای این دامنه انتخاب کنید. دقت کنید که نام انتخاب شده قبلا برای دامین های دیگر در پنل ثبت نشده باشد. بهتر است از کاراکترهای فونت استاندارد (حروف و عدد) برای این فیلد استفاده شود.

### ۳. حالت
حالت را همانطور که مشخص است روی auto_cdn_ip قرار دهید.


### ۴. اجبار به استفاده از آیپی های زیر در کانفیگ CDN
اگر این فیلد خالی باشد؛ [لیست](https://ircf.space/export.php) آیپی های تمیزی که توسط سایت ircf.space به صورت مرتب بروزرسانی می شوند را تست می کنه و آیپی ای که روی نت کاربر بدون مشکل باشد را برمیگردونه.
همچنین شما می تونید این لیست را طبق فرمت زیر محدود کنید.

</div>

```
mcix.ircf.space	MCI
mtnx.ircf.space	MTN
rtl.ircf.space	RTL
```

<div dir="rtl">
یعنی طبق این فرمت اپراتورهایی که استفاده می کنید را وارد فیلد شماره ۴ کنید. هر ردیف را با اینتر از هم جدا کنید.

در صورتی که اپراتور در لیست نباشه؛ از خط اول استفاده میکنه

همینطور اگر خودتون لیست بهتری از آیپی ها با [روش های آموزش داده شده](https://github.com/hiddify/hiddify-config/wiki/%DA%86%DA%AF%D9%88%D9%86%DA%AF%DB%8C-%DB%8C%D8%A7%D9%81%D8%AA%D9%86-%D8%A2%DB%8C%D9%BE%DB%8C-%D8%AA%D9%85%DB%8C%D8%B2-%DA%A9%D9%84%D8%A7%D8%AF%D9%81%D9%84%D8%B1) قبلی دارید می تونید طبق همین فرمت ضمن ثبت ساب دامین (پروکسی خاموش) از آن ها استفاده کنید. مثلا:
</div>

```
mci.yourdomain.com  MCI
mtn.yourdomain.com  MTN
mkb.yourdomain.com  MKB
```

<div dir="rtl">

<b><i> نکته کلیدی: حتما توجه داشته باشید؛ برای اینکه پنل بتونه آیپی مناسب را تست بگیره و برگردونه ارتباط VPN باید قطع باشه. پس هر وقت اپراتورتون را عوض می کنید یه بار باید ارتباط VPN را قطع کنید تا تست انجام بشه و آیپی مناسب در کانکشن تون تنظیم بشه.</i></b>

### ۵. نمایش کانفیگ های دامنه ی
با استفاده از این قسمت می تونید کانفیگ های دامنه های دیگر را محدود کنید. که این فیلد برای هر کاربر و با توجه به شرایط مختلف متفاوت است. برای استفاده های غیر تجاری معمولا نیاز نیست که در این حالت از این فیلد استفاده کنید.

### ۶. ذخیره
در پایان دکمه ذخیره را بزنید تا تنظیمات دامنه اعمال شوند.

کار تمام است. حالا می تونید به لینک کاربر برید و کانفیگ های مرتبط با این دامنه را ملاظحه نمایید.

***
**نکته :** تفاوت حالت auto_cdn-ip با cdn این است که
* در حالت auto_cdnـip آیپی ای که پیدا میشه را بر میگردونه و در کانفیگ قرار میده. حالا یا از طریق فیلد شماره ۵ یا اگر خالی باشد به صورت خودکار.
* از طرف دیگه؛ حالت cdn اما دامنه را برمیگردونه و در کانفیگ قرار میده.. 

* حالا فرض کنید این دامنه فیلتر شده باشه (مثل دامنه ircf.space که فیلتره) در این حالت اگه از حالت cdn استفاده شده باشه؛ عملا ارتباط کلاینت قطع میمونه چون نمیتونه آیپی را ریزالو کنه. ولی حالت auto_cdn_ip که داره آیپی را هم براتون ریزالو میکنه عملا این محدودیت را هم دور میزنه.

پس با تمام این توضیحات بهتر هست از حالت auto_cdn_ip به جای cdn استفاده بشه.